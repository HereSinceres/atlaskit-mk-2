Error boundary added with analytics, various cleanups